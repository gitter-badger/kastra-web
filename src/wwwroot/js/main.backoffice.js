(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){},32:function(e){e.exports={home:{welcomeTitle:"Welcome to your web administration !",userNumber:"Number of users",visitOfDay:"Visits of day",visitByDay:"Visits by day",totalVisits:"Total visits",recentUsers:"Recent users",visits:"Visits",date:"Date",user:"User",ipAddress:"IP address",userAgent:"User agent",visitNotFound:"No visit found ...",userNotFound:"No user found"},login:{title:"Log in",subtitle:"Use a local account to log in.",email:"Email",password:"Password",login:"Log in",rememberMe:"Remember me",emptyEmail:"The field Email is missing",emptyPassword:"The field Password is missing",loginInProcess:"Login in process ..."},navigation:{backToHome:"Back to home",home:"Home",pages:"Pages",modules:"Modules",users:"Users",settings:"Settings"},module:{module:"Module",newModule:"New module",editTitle:"Edit the module and manage the permissions",moduleUpdateSuccess:"Module updated with success",general:"General",name:"Name",moduleDefinition:"Module definition",selectDefinition:"Select a definition",placeholder:"Placeholder",selectPlaceholder:"Select a placeholder",permissions:"Permissions",submit:"Submit",emptyName:"Name can't be empty",emptyDefinition:"A definition must be selected",emptyPlaceholder:"A placeholder must be selected",saving:"Saving module ...",loadingPermissions:"Loading permissions ...",loadingPlaces:"Loading places ...",loading:"Loading module ...",loadingModuleDefinitions:"Loading module definitions ...",isStatic:"Static module",isDisabled:"Disable module"},modulelist:{noModuleFound:"No module found",uninstallAsk:"Are you sure you want to uninstall",deleteTitle:"Delete module",deleteConfirm:"Delete",deleteCancel:"Cancel",subtitle:"All your website module",title:"Module list",newModule:"New module",manageModuleDefinitions:"Manage module definitions",name:"Name",contentSettings:"Content - Settings",edit:"Edit",delete:"Delete"},moduleinstall:{loadingModules:"Loading modules ...",installingModule:"Installing module ...",uninstallingModule:"Uninstalling module ...",noModuleFound:"No module found",uninstallAsk:"Are you sure you want to uninstall",uninstallModule:"Uninstall module",uninstall:"Uninstall",cancel:"Cancel",subtitle:"All your website module definition",title:"Module definition list",name:"Name",status:"Status",version:"Version",action:"Action"},page:{loading:"Loading page ...",saving:"Saving page ...",emptyTitle:"Title can't be empty",emptyKeyname:"Keyname can't be empty",requiredTemplate:"A template must be selected",page:"Page",newPage:"New page",subtitle:"Edit the page settings and manage its modules",updateSuccess:"Page updated with success",general:"General",template:"Page template",SEO:"SEO",title:"Page title",keyname:"Page keyname",metaKeywords:"Meta keywords",metaDescription:"Meta description",metaRobot:"Meta robot",submit:"Submit",defaultTemplate:"No template"},pagelist:{loadingPages:"Loading pages ...",deleting:"Deleting page ...",noPageFound:"No page found",deleteTitle:"Delete page",deleteMessage:"Are you sure you want to delete",delete:"Delete",cancel:"Cancel",subtitle:"Manage all the web site pages",title:"Page list",newPage:"New page",name:"Name",keyname:"Keyname",modules:"Modules",edit:"Edit",manageTemplates:"Manage page templates"},settings:{loading:"Loading settings ...",startingApplication:"Starting application ...",stoppingApplication:"Stopping application ...",startFailed:"Failed to start the application",stopFailed:"Failed to stop the application",smtpPortMustInteger:"Smtp port must be an integer",saving:"Save settings ...",subtitle:"Configure your website",title:"Site settings",successMessage:"Settings updated with success",siteTitle:"Site title",description:"Site description",hostUrl:"Site url",cache:"Cache enabled",emailSettings:"Email settings",smtpHost:"Smtp host",smtpPort:"Smtp port",smtpUser:"Smtp user",smtpPassword:"Smtp password",smtpSsl:"Enable Smtp SSL",emailSender:"Sender email",signIn:"Sign In",confirmedEmail:"Require confirmed email",submit:"Submit",theme:"Theme",cookieSettings:"Cookie settings",consentNotice:"Consent notice",cookieUsePolicyUrl:"Cookie policy url",checkConsentNeeded:"Consent needed"},template:{loading:"Loading template ...",saving:"Saving template ...",emptyName:"Name can't be empty",emptyKeyname:"Keyname can't be empty",requiredModelClass:"A model class must be selected",requiredViewPath:"A view path must be selected",template:"Page template",newTemplate:"New template",subtitle:"Edit the page template settings",updateSuccess:"Template updated with success",name:"Template name",keyname:"Template keyname",viewPath:"View path",modelClass:"Model class",submit:"Submit",defaultViewPath:"None",defaultKeyname:"None"},templatelist:{loadingPages:"Loading templates ...",deleting:"Deleting template ...",noTemplateFound:"No template found",deleteTitle:"Delete template",deleteMessage:"Are you sure you want to delete",delete:"Delete",cancel:"Cancel",subtitle:"Manage all the web site templates",title:"Template list",newTemplate:"New template",name:"Name",keyname:"Keyname",edit:"Edit"},permissionlist:{loading:"Loading permissions ...",adding:"Adding permission ...",deleting:"Deleting permission ...",noPermissionFound:"No permission found",deleteTitle:"Delete permission",deleteMessage:"Are you sure you want to delete",delete:"Delete",cancel:"Cancel",subtitle:"All permissions of your website",title:"Permission list",add:"Add",name:"Name"},role:{loadingPermissions:"Loading permissions ...",loadingRoles:"Loading roles ...",emptyName:"Name cannot be empty",editRole:"Edit role",newRole:"Edit role",subtitle:"Edit the role",updateSuccess:"Role updated with success",general:"General",permissions:"Permissions",submit:"Submit",name:"Name"},rolelist:{loading:"Loading roles ...",deleting:"Deleting role ...",noRoleFound:"No role found",deleteTitle:"Delete role",deleteMessage:"Are you sure you want to delete",delete:"Delete",cancel:"Cancel",subtitle:"All roles of your website",title:"Role list",newRole:"New role",name:"Name",edit:"Edit"},user:{loadingRoles:"Loading roles ...",loading:"Loading user ...",emptyEmail:"Email address can't be empty",samePassword:"Password fields must be identic",password:"Password",confirmPassword:"Confirm password",editUser:"Edit user",newUser:"New user",subtitle:"Edit the user",updateSuccess:"User updated with success",general:"General",emailAddress:"Email address",roles:"Roles",submit:"Submit"},userlist:{loading:"Loading users ...",deleting:"Deleting user ...",noUserFound:"No user found",deleteTitle:"Delete user",deleteMessage:"Are you sure you want to delete",delete:"Delete",cancel:"Cancel",subtitle:"All users of your website",newUser:"New user",title:"User list",manageRoles:"Manage roles",managePermissions:"Manage permissions",username:"Username",email:"Email",edit:"Edit"}}},33:function(e){e.exports={home:{welcomeTitle:"Bienvenido a su administrador !",userNumber:"Numero de usuarios",visitOfDay:"Visitas del dia",visitByDay:"Visitas por dia",totalVisits:"Total de visitas",recentUsers:"Usuarios recientes",visits:"Visitas",date:"Fecha",user:"Usuario",ipAddress:"Direccion IP",userAgent:"User agent",visitNotFound:"No se encontro visita ...",userNotFound:"No se encontro usuario"},login:{title:"Log in",subtitle:"Use a local account to log in.",email:"Email",password:"Password",login:"Log in",rememberMe:"Remember me",emptyEmail:"The field Email is missing",emptyPassword:"The field Password is missing",loginInProcess:"Login in process ..."},navigation:{backToHome:"Ir a la pagina principal",home:"Pagina principal",pages:"Paginas",modules:"Modulos",users:"Usuarios",settings:"Configuracion"},module:{module:"Modulo",newModule:"Nuevo modulo",editTitle:"Editar modulo y administrar los permisos",moduleUpdateSuccess:"Actualizacion exitosa del modulo",general:"General",name:"Nombre",moduleDefinition:"Definicion del modulo",selectDefinition:"Seleccionar un modulo",placeholder:"Placeholder",selectPlaceholder:"Select a placeholder",permissions:"Permissions",submit:"Submit",emptyName:"Name can't be empty",emptyDefinition:"A definition must be selected",emptyPlaceholder:"A placeholder must be selected",saving:"Saving module ...",loadingPermissions:"Loading permissions ...",loadingPlaces:"Loading places ...",loading:"Loading module ...",loadingModuleDefinitions:"Loading module definitions ...",isStatic:"Static module",isDisabled:"Disable module"},modulelist:{noModuleFound:"No module found",uninstallAsk:"Are you sure you want to uninstall",deleteTitle:"Delete module",deleteConfirm:"Delete",deleteCancel:"Cancel",subtitle:"All your website module",title:"Module list",newModule:"New module",manageModuleDefinitions:"Manage module definitions",name:"Name",contentSettings:"Content - Settings",edit:"Edit",delete:"Delete"},moduleinstall:{loadingModules:"Loading modules ...",installingModule:"Installing module ...",uninstallingModule:"Uninstalling module ...",noModuleFound:"No module found",uninstallAsk:"Are you sure you want to uninstall",uninstallModule:"Uninstall module",uninstall:"Uninstall",cancel:"Cancel",subtitle:"All your website module definition",title:"Module definition list",name:"Name",status:"Status",version:"Version",action:"Action"},page:{loading:"Loading page ...",saving:"Saving page ...",emptyTitle:"Title can't be empty",emptyKeyname:"Keyname can't be empty",requiredTemplate:"A template must be selected",page:"Page",newPage:"New page",subtitle:"Edit the page settings and manage its modules",updateSuccess:"Page updated with success",general:"General",template:"Page template",SEO:"SEO",title:"Page title",keyname:"Page keyname",metaKeywords:"Meta keywords",metaDescription:"Meta description",metaRobot:"Meta robot",submit:"Submit",defaultTemplate:"No template"},pagelist:{loadingPages:"Loading pages ...",deleting:"Deleting page ...",noPageFound:"No page found",deleteTitle:"Delete page",deleteMessage:"Are you sure you want to delete",delete:"Delete",cancel:"Cancel",subtitle:"Manage all the web site pages",title:"Page list",newPage:"New page",name:"Name",keyname:"Keyname",modules:"Modules",edit:"Edit"},settings:{loading:"Loading settings ...",startingApplication:"Starting application ...",stoppingApplication:"Stopping application ...",startFailed:"Failed to start the application",stopFailed:"Failed to stop the application",smtpPortMustInteger:"Smtp port must be an integer",saving:"Save settings ...",subtitle:"Configure your website",title:"Site settings",successMessage:"Settings updated with success",siteTitle:"Site title",description:"Site description",hostUrl:"Site url",cache:"Cache enabled",emailSettings:"Email settings",smtpHost:"Smtp host",smtpPort:"Smtp port",smtpUser:"Smtp user",smtpPassword:"Smtp password",smtpSsl:"Enable Smtp SSL",emailSender:"Sender email",signIn:"Sign In",confirmedEmail:"Require confirmed email",submit:"Submit",theme:"Tema",cookieSettings:"Cookie settings",consentNotice:"Consent notice",cookieUsePolicyUrl:"Cookie policy url",checkConsentNeeded:"Consent needed"},template:{loading:"Loading template ...",saving:"Saving template ...",emptyName:"Name can't be empty",emptyKeyname:"Keyname can't be empty",requiredModelClass:"A model class must be selected",requiredViewPath:"A view path must be selected",template:"Page template",newTemplate:"New template",subtitle:"Edit the page template settings",updateSuccess:"Template updated with success",name:"Template name",keyname:"Template keyname",viewPath:"View path",modelClass:"Model class",submit:"Submit",defaultViewPath:"None",defaultKeyname:"None"},templatelist:{loadingPages:"Loading templates ...",deleting:"Deleting template ...",noTemplateFound:"No template found",deleteTitle:"Delete template",deleteMessage:"Are you sure you want to delete",delete:"Delete",cancel:"Cancel",subtitle:"Manage all the web site templates",title:"Template list",newTemplate:"New template",name:"Name",keyname:"Keyname",edit:"Edit"},permissionlist:{loading:"Loading permissions ...",adding:"Adding permission ...",deleting:"Deleting permission ...",noPermissionFound:"No permission found",deleteTitle:"Delete permission",deleteMessage:"Are you sure you want to delete",delete:"Delete",cancel:"Cancel",subtitle:"All permissions of your website",title:"Permission list",add:"Add",name:"Name"},role:{loadingPermissions:"Loading permissions ...",loadingRoles:"Loading roles ...",emptyName:"Name cannot be empty",editRole:"Edit role",newRole:"New role",subtitle:"Edit the role",updateSuccess:"Role updated with success",general:"General",permissions:"Permissions",submit:"Submit",name:"Name"},rolelist:{loading:"Loading roles ...",deleting:"Deleting role ...",noRoleFound:"No role found",deleteTitle:"Delete role",deleteMessage:"Are you sure you want to delete",delete:"Delete",cancel:"Cancel",subtitle:"All roles of your website",title:"Role list",newRole:"New role",name:"Name",edit:"Edit"},user:{loadingRoles:"Loading roles ...",loading:"Loading user ...",emptyEmail:"Email address can't be empty",samePassword:"Password fields must be identic",password:"Password",confirmPassword:"Confirm password",editUser:"Edit user",newUser:"New user",subtitle:"Edit the user",updateSuccess:"User updated with success",general:"General",emailAddress:"Email address",roles:"Roles",submit:"Submit"},userlist:{loading:"Loading users ...",deleting:"Deleting user ...",noUserFound:"No user found",deleteTitle:"Delete user",deleteMessage:"Are you sure you want to delete",delete:"Delete",cancel:"Cancel",subtitle:"All users of your website",newUser:"New user",title:"User list",manageRoles:"Manage roles",managePermissions:"Manage permissions",username:"Username",email:"Email",edit:"Edit"}}},34:function(e){e.exports={home:{welcomeTitle:"Bienvenue sur votre panneau administration !",userNumber:"Utilisateurs",visitOfDay:"Visites du jour",visitByDay:"Visites par jour",totalVisits:"Total des visites",recentUsers:"Utilisateurs r\xe9cents",visits:"Visites",date:"Date",user:"Utilisateur",ipAddress:"Adresse IP",userAgent:"User agent",visitNotFound:"Aucune visite trouv\xe9e",userNotFound:"Aucun utilisateur trouv\xe9"},login:{title:"Se connecter",subtitle:"Utiliser un compte local pour vous connecter",email:"Email",password:"Mot de passe",login:"Se connecter",rememberMe:"Se souvenir de moi",emptyEmail:"Le champ Email ne doit pas \xeatre vide",emptyPassword:"Le champ Mot de passe ne doit pas \xeatre vide",loginInProcess:"Connexion ..."},navigation:{backToHome:"Retour \xe0 l'accueil",home:"Accueil",pages:"Pages",modules:"Modules",users:"Utilisateurs",settings:"Options"},module:{module:"Module",newModule:"Nouveau module",editTitle:"Edition du module",moduleUpdateSuccess:"Module mis \xe0 jour avec succ\xe8s",general:"G\xe9n\xe9ral",name:"Nom",moduleDefinition:"D\xe9finition de module",selectDefinition:"S\xe9lectionnez une d\xe9finition",placeholder:"Places",selectPlaceholder:"S\xe9lectionnez un placeholder",permissions:"Permissions",submit:"Sauvegarder",emptyName:"Le champ nom ne peut \xeatre vide",emptyDefinition:"Une d\xe9finition doit \xeatre s\xe9lectionn\xe9e",emptyPlaceholder:"Un placeholder doit \xeatre s\xe9lectionn\xe9",saving:"Sauvegarde du module ...",loadingPermissions:"Chargement des permissions ...",loadingPlaces:"Chargement des places ...",loading:"Chargement du module ...",loadingModuleDefinitions:"Chargement des d\xe9finitions de module ...",isStatic:"Module statique",isDisabled:"D\xe9sactiver le module"},modulelist:{noModuleFound:"Aucun module trouv\xe9",uninstallAsk:"Etes-vous s\xfbr de vouloir d\xe9sinstaller",deleteTitle:"Suppression d'un module",deleteConfirm:"Supprimer",deleteCancel:"Annuler",subtitle:"Tous les modules du site",title:"Liste des modules",newModule:"Nouveau module",manageModuleDefinitions:"G\xe9rer les definitions des modules",name:"Nom",contentSettings:"Contenu - Options",edit:"Editer",delete:"Supprimer"},moduleinstall:{loadingModules:"Chargement des modules ...",installingModule:"Installation du module ...",uninstallingModule:"D\xe9sinstallation du module ...",noModuleFound:"Aucun module trouv\xe9",uninstallAsk:"Etes-vous s\xfbr de vouloir d\xe9sinstaller",uninstallModule:"D\xe9sinstaller un module",uninstall:"D\xe9sinstaller",cancel:"Annuler",subtitle:"Toutes les d\xe9finitions des modules",title:"Liste des d\xe9finitions de module",name:"Nom",status:"Statut",version:"Version",action:"Action"},page:{loading:"Chargement de la page ...",saving:"Sauvegarde de la page ...",emptyTitle:"Le champ titre ne peut \xeatre vide",emptyKeyname:"Le champ nom cl\xe9 du module ne peut \xeatre vide",requiredTemplate:"Un template doit \xeatre s\xe9lectionn\xe9",page:"Page",newPage:"Nouvelle page",subtitle:"Editer la page et g\xe9rer ses modules",updateSuccess:"Page mise \xe0 jour avec succ\xe8s",general:"G\xe9n\xe9ral",template:"Template de page",SEO:"SEO",title:"Titre de la page",keyname:"Nom cl\xe9 de la page",metaKeywords:"Meta keywords",metaDescription:"Meta description",metaRobot:"Meta robot",submit:"Sauvegarder",defaultTemplate:"Aucun template"},pagelist:{loadingPages:"Chargement des pages ...",deleting:"Suppression de la page ...",noPageFound:"Aucune page trouv\xe9e",deleteTitle:"Supprimer une page",deleteMessage:"\xcates-vous s\xfbr de vouloir supprimer",delete:"Supprimer",cancel:"Annuler",subtitle:"G\xe9rer les pages du site",title:"Liste des pages",newPage:"Nouvelle page",name:"Nom",keyname:"Nom cl\xe9",modules:"Modules",edit:"Editer",manageTemplates:"G\xe9rer les templates de page"},settings:{loading:"Chargement des options ...",startingApplication:"D\xe9marrage de l'application ...",stoppingApplication:"Arr\xeat de l'application ...",startFailed:"Impossible de d\xe9marrer l'application",stopFailed:"Impossible d'arr\xeater l'application",smtpPortMustInteger:"Le port Smtp doit \xeatre un entier",saving:"Sauvegarde des param\xe8tres ...",subtitle:"Configurer votre site",title:"Param\xe8tres du site",successMessage:"Param\xe8tres sauvegard\xe9s avec succ\xe8s",siteTitle:"Titre du site",description:"Description du site",hostUrl:"Url du site",cache:"Cache activ\xe9",emailSettings:"Configuration SMTP",smtpHost:"H\xf4te",smtpPort:"Port",smtpUser:"Utilisateur",smtpPassword:"Mot de passe",smtpSsl:"SSL activ\xe9",emailSender:"Email de l'exp\xe9diteur",signIn:"Connexion",confirmedEmail:"Requiert un email v\xe9rifi\xe9",submit:"Sauvegarder",theme:"Th\xe8me",cookieSettings:"Options des cookies",consentNotice:"Message d'informations sur les cookies",cookieUsePolicyUrl:"Url des informations sur les cookies",checkConsentNeeded:"Acceptation des cookies requis"},template:{loading:"Chargement du template ...",saving:"Sauvegarde du template ...",emptyName:"Le champ nom ne peut \xeatre vide",emptyKeyname:"Le champ nom cl\xe9 du template ne peut \xeatre vide",requiredViewPath:"Un chemin doit \xeatre s\xe9lectionn\xe9",template:"Template",subtitle:"Modifier le template de page",updateSuccess:"Page mise \xe0 jour avec succ\xe8s",name:"Nom du template",keyname:"Nom cl\xe9 du template",submit:"Sauvegarder",defaultViewPath:"Aucun",defaultKeyname:"Aucun",newTemplate:"Nouveau template",modelClass:"Model de classe",viewPath:"Chemin du r\xe9pertoire de vue"},templatelist:{loadingPages:"Chargement des templates ...",deleting:"Suppression du template ...",noPageFound:"Aucun template trouv\xe9",deleteTitle:"Supprimer un template",deleteMessage:"\xcates-vous s\xfbr de vouloir supprimer",delete:"Supprimer",cancel:"Annuler",subtitle:"G\xe9rer les templates du site",title:"Liste des templates",newPage:"Nouveau template",name:"Nom",keyname:"Nom cl\xe9",edit:"Editer",newTemplate:"Nouveau template"},permissionlist:{loading:"Chargement des permissions ...",adding:"Ajout de la permission ...",deleting:"Suppression de la permission ...",noPermissionFound:"Aucune permission trouv\xe9",deleteTitle:"Suppression d'une permission",deleteMessage:"\xcates-vous s\xfbr de vouloir supprimer",delete:"Supprimer",cancel:"Annuler",subtitle:"Toutes les permissions du site",title:"Liste des permissions",add:"Ajouter",name:"Nom"},role:{loadingPermissions:"Chargement des permissions ...",loadingRoles:"Chargement des r\xf4les ...",emptyName:"Le champ nom ne peut \xeatre vide",editRole:"Editer le r\xf4le",newRole:"Ajouter le r\xf4le",subtitle:"Editer le r\xf4le",updateSuccess:"R\xf4le mis \xe0 jour avec succ\xe8s",general:"G\xe9n\xe9ral",permissions:"Permissions",submit:"Sauvegarder",name:"Nom"},rolelist:{loading:"Chargement des r\xf4les ...",deleting:"Suppression du r\xf4le ...",noRoleFound:"Aucun r\xf4le trouv\xe9",deleteTitle:"Supprimer le r\xf4le",deleteMessage:"\xcates-vous s\xfbr de vouloir supprimer",delete:"Supprimer",cancel:"Annuler",subtitle:"Tous les r\xf4les du site",title:"Liste des r\xf4les",newRole:"Nouveau r\xf4le",name:"Nom",edit:"Editer"},user:{loadingRoles:"Chargement des r\xf4les ...",loading:"Chargement de l'utilisateur ...",emptyEmail:"Le champ email ne peut pas \xeatre vide",samePassword:"Les champ mot de passe doivent \xeatre identiques",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",editUser:"Edit user",newUser:"Nouvel utilisateur",subtitle:"Modifier les information de l'utilisateur",updateSuccess:"Utilisateur sauvegarder avec succ\xe8s",general:"G\xe9n\xe9ral",emailAddress:"Adresse email",roles:"R\xf4les",submit:"Sauvegarder"},userlist:{loading:"Chargement des utilisateurs ...",deleting:"Suppression de l'utilisateur ...",noUserFound:"Aucun utilisateur trouv\xe9",deleteTitle:"Supprimer l'utilisateur",deleteMessage:"\xcates-vous s\xfbr de vouloir supprimer",delete:"Supprimer",cancel:"Annuler",subtitle:"Tous les utilisateurs du site",newUser:"Nouvel utilisateur",title:"Liste des utilisateurs",manageRoles:"G\xe9rer les r\xf4les",managePermissions:"G\xe9rer les permissions",username:"Nom d'utilisateur",email:"Email",edit:"Editer"}}},40:function(e,t,a){e.exports=a(91)},91:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(22),l=a.n(i),o=(a(25),a(26),a(27),a(93)),r=a(7),c=a(24),d=a(32),m=a(33),u=a(34),h=a(35),p=a.n(h);c.a.use(p.a).init({interpolation:{escapeValue:!1},resources:{en:{translation:d},es:{translation:m},fr:{translation:u}}});var g=c.a,E=a(2),f=a(3),b=a(6),v=a(4),y=a(5),S=a(94),k=a(39),N=a(36),C=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={index:0,total:0,displayNext:void 0===a.props.displayNext||a.props.displayNext,displayPrevious:void 0===a.props.displayPrevious||a.props.displayPrevious,infinite:void 0===a.props.total},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"handleClickPrevious",value:function(e){var t=this.state.index-1;e.preventDefault(),this.setState({index:t},this.props.load(t))}},{key:"handleClickNext",value:function(e){var t=this.state.index+1;e.preventDefault(),this.setState({index:t},this.props.load(t))}},{key:"handleClick",value:function(e,t){e.preventDefault(),this.setState({index:t},this.props.load(this.state.index))}},{key:"render",value:function(){var e=this,t=this.state.displayPrevious||0!==this.state.index,a=this.state.displayNext||0!==this.state.index;return n.a.createElement("div",{className:"mt-2 mb-1"},n.a.createElement("div",{className:"pagination"},n.a.createElement("a",{href:"",className:t?"":"hidden",onClick:function(t){return e.handleClickPrevious(t)}},n.a.createElement("span",{className:"ion-ios-arrow-back"})),!this.state.infinite&&n.a.createElement("div",null,this.state.index>0&&n.a.createElement("a",{href:"",onClick:function(t){return e.handleClick(t,e.state.index-1)}},n.a.createElement("span",{className:"ion-ios-arrow-forward"})),n.a.createElement("spa",null,this.state.index),this.state.index<this.state.total&&n.a.createElement("a",{href:"",onClick:function(t){return e.handleClickNext(t)}},n.a.createElement("span",{className:"ion-ios-arrow-forward"}))),n.a.createElement("a",{href:"",className:a?"":"hidden",onClick:function(t){return e.handleClickNext(t)}},n.a.createElement("span",{className:"ion-ios-arrow-forward"}))))}}]),t}(s.Component),w=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={data:{},stats:{},visits:[],recentUsers:[],applicationVersion:"",coreVersion:""},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.fetchGraphData(),this.fetchGlobalStats(),this.fetchVisits(),this.fetchRecentUsers(),this.fetchVersions()}},{key:"fetchGraphData",value:function(e){var t=this;fetch("".concat("","/api/Statistics/GetVisitorsByDay?index=").concat(e),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(e){t.setState({data:e})}).catch(function(e){console.log("Error: \n",e)})}},{key:"fetchGlobalStats",value:function(){var e=this;fetch("".concat("","/api/Statistics/GetGlobalStats"),{method:"GET",credentials:"include"}).then(function(t){if(t.ok)return t.json();401===t.status&&e.props.history.push("/login")}).then(function(t){e.setState({stats:t})}).catch(function(e){console.log("Error: \n",e)})}},{key:"fetchVisits",value:function(e){var t=this;fetch("".concat("","/api/Statistics/GetVisits?index=").concat(e),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(e){t.setState({visits:e})}).catch(function(e){console.log("Error: \n",e)})}},{key:"fetchRecentUsers",value:function(e){var t=this;fetch("".concat("","/api/Statistics/GetRecentUsers?index=").concat(e),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(e){t.setState({recentUsers:e})}).catch(function(e){console.log("Error: \n",e)})}},{key:"fetchVersions",value:function(){var e=this;fetch("".concat("","/api/SiteConfiguration/GetApplicationVersions"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(t){e.setState({applicationVersion:t.applicationVersion,coreVersion:t.coreVersion})}).catch(function(e){console.log("Error: \n",e)})}},{key:"renderVisitsTable",value:function(){var e=this.props.t;return this.state.visits.length>0?n.a.createElement("table",{className:"table table-hover table-dark bg-dark mt-5 rounded"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,e("home.date")),n.a.createElement("th",null,e("home.user")),n.a.createElement("th",null,e("home.ipAddress")))),n.a.createElement("tbody",null,this.state.visits.map(function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.date),n.a.createElement("td",null,e.username),n.a.createElement("td",null,e.ipAddress))}))):n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,e("home.date")),n.a.createElement("th",null,e("home.user")),n.a.createElement("th",null,e("home.ipAddress")),n.a.createElement("th",null,e("home.userAgent")))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,e("home.visitNotFound")))))}},{key:"renderRecentUsers",value:function(){var e=this.props.t;return this.state.recentUsers.length>0?n.a.createElement("table",{className:"table table-hover table-dark bg-dark mt-5 rounded"},n.a.createElement("tbody",null,this.state.recentUsers.map(function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,n.a.createElement("div",{className:"list-group small"},n.a.createElement("div",{className:"w-100"},n.a.createElement("h5",{className:"mb-1"},e.username)),n.a.createElement("p",{className:"mb-0"},e.email))))}))):n.a.createElement("p",null,e("home.userNotFound"))}},{key:"render",value:function(){var e=this;if(0===Object.keys(this.state.data).length)return null;var t=this.props.t;return n.a.createElement("div",{className:"text-white mt-5 clearfix"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("div",{className:"bg-dark mb-4 p-4"},n.a.createElement("blockquote",{className:"blockquote"},n.a.createElement("p",null,t("home.welcomeTitle")),n.a.createElement("footer",{className:"blockquote-footer text-right"},n.a.createElement("small",null,"Kastra website (v",this.state.applicationVersion,") based on Kastra Core (v",this.state.coreVersion,")")))))),n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-4"},n.a.createElement("div",{className:"bg-dark p-4"},n.a.createElement("h3",null,n.a.createElement("i",{className:"icon ion-person-stalker"}),n.a.createElement("small",null," ",t("home.userNumber"))),n.a.createElement("h2",{className:"display-4"},this.state.stats.numberOfUsers))),n.a.createElement("div",{className:"col-4"},n.a.createElement("div",{className:"bg-dark p-4"},n.a.createElement("h3",null,n.a.createElement("i",{className:"icon ion-clock"}),n.a.createElement("small",null," ",t("home.visitOfDay"))),n.a.createElement("h2",{className:"display-4"},this.state.stats.visitsPerDay))),n.a.createElement("div",{className:"col-4"},n.a.createElement("div",{className:"bg-dark p-4"},n.a.createElement("h3",null,n.a.createElement("i",{className:"icon ion-clipboard"}),n.a.createElement("small",null," ",t("home.totalVisits"))),n.a.createElement("h2",{className:"display-4"},this.state.stats.totalVisits)))),n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"bg-dark p-4"},n.a.createElement("h3",null,t("home.visitByDay")),n.a.createElement(N.Line,{id:"visits-chart",data:this.state.data,options:{maintainAspectRatio:!1,pointDot:!1,responsive:!0}}),n.a.createElement(C,{displayNext:!1,load:function(t){return e.fetchGraphData(t)}})))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"bg-dark mr-sm-1 p-4"},n.a.createElement("h3",null,t("home.recentUsers")),this.renderRecentUsers(),n.a.createElement(C,{displayPrevious:!1,load:function(t){return e.fetchRecentUsers(t)}}))),n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"bg-dark p-4"},n.a.createElement("h3",null,t("home.visits")),this.renderVisitsTable(),n.a.createElement(C,{displayPrevious:!1,load:function(t){return e.fetchVisits(t)}}))))))}}]),t}(s.Component),M=Object(r.b)()(w),O=a(11),j=a(1),L=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(j.a)(a)),a.handleClose=e.handleClose.bind(Object(j.a)(a)),a.state={display:!1,message:"",messages:[]},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({display:e.display,message:e.message,messages:e.messages})}},{key:"handleClick",value:function(e){this.setState({display:!1}),e.preventDefault(),this.handleClose()}},{key:"render",value:function(){var e;return e=void 0!==this.state.messages&&this.state.messages.length>0?n.a.createElement("ul",null,this.state.messages.map(function(e,t){return n.a.createElement("li",{key:t},e)})):this.state.message,this.state.display?n.a.createElement("div",{className:"alert alert-".concat(this.props.type," alert-dismissible fade show"),role:"alert"},e,n.a.createElement("button",{type:"button",className:"close",onClick:this.handleClick,"data-dismiss":"alert","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))):null}}]),t}(s.Component),P=function(e){var t=e.displayError?"form-control border-danger":"form-control";return n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:e.name,className:"col-sm-2 col-form-label"},e.title),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{id:e.name,className:t,type:e.type,name:e.name,value:e.value,onChange:e.handleChange})))},T=function(e){return n.a.createElement("div",{className:"form-check row ml-1 mt-4 mb-4"},n.a.createElement("input",{id:"".concat(e.name,"-").concat(e.value),className:"form-check-input",name:e.name,type:"checkbox",value:e.value,checked:e.checked,onChange:e.handleChange}),n.a.createElement("label",{htmlFor:"".concat(e.name,"-").concat(e.value),className:"form-check-label"},e.title))},D=function(e){return e.isLoading?n.a.createElement("div",{id:"loader-component"},n.a.createElement("div",{className:"loader-content"},n.a.createElement("div",{className:"loader"},n.a.createElement("div",{className:"inner one"}),n.a.createElement("div",{className:"inner two"}),n.a.createElement("div",{className:"inner three"})),n.a.createElement("p",{className:"message"},e.message))):null},x=a(17),A=function(){var e=document.getElementById("RequestVerificationToken");return Object(x.isNil)(e)?"empty":e.value},I=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(j.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(j.a)(a)),a.closeErrorMessage=a.closeErrorMessage.bind(Object(j.a)(a)),a.state={email:"",password:"",rememberMe:!1,displayErrors:!1,errors:[],isLoading:!1,loadingMessage:""},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"handleChange",value:function(e){var t,a=e.target,s="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState((t={},Object(O.a)(t,n,s),Object(O.a)(t,"displaySuccess",!1),t))}},{key:"handleSubmit",value:function(e){var t=this,a=this.props.t,s=[],n={},i={};e.preventDefault(),0===this.state.email.length&&s.push(a("login.emptyEmail")),0===this.state.password.length&&s.push(a("login.emptyPassword")),s.length>0?(n.errors=s,n.displayErrors=!0,this.setState(n)):(this.setState({isLoading:!0,loadingMessage:a("login.loginInProcess")}),n.displayErrors=!1,i.email=this.state.email,i.password=this.state.password,i.rememberMe=!1,fetch("".concat("","/api/user/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},credentials:"include",body:JSON.stringify(i)}).then(function(e){e.ok?t.props.history.push("/"):t.setState({isLoading:!1})}).catch(function(e){this.setState({errors:[a("login.login")],displayErrors:!0,isLoading:!1}),console.log("Error: \n",e)}))}},{key:"closeErrorMessage",value:function(){this.setState({displayErrors:!1})}},{key:"render",value:function(){var e=this.props.t;return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("login.subtitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},e("login.title")),n.a.createElement(L,{display:this.state.displayErrors,handleClose:this.closeErrorMessage,type:"danger",messages:this.state.errors}),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement(P,{type:"text",handleChange:this.handleChange,title:e("login.email"),name:"email",value:this.state.email}),n.a.createElement(P,{type:"password",handleChange:this.handleChange,title:e("login.password"),name:"password",value:this.state.password}),n.a.createElement(T,{className:"mt-5 mb-3",name:"rememberMe",handleChange:this.handleChange,checked:this.state.rememberMe,title:e("login.rememberMe")}),n.a.createElement("button",{type:"submit",className:"btn btn-outline-info mt-5 float-right"},e("login.login"))))}}]),t}(s.Component),U=Object(r.b)()(I),R=function(e){var t=e.displayError?"form-control border-danger":"form-control";return n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:e.name,className:"col-sm-2 col-form-label"},e.label),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("select",{className:t,name:e.name,onChange:e.onChange,value:e.selectedOption,id:e.name},!Object(x.isNil)(e.placeholder)&&n.a.createElement("option",{value:""},e.placeholder),e.options.map(function(e,t){return n.a.createElement("option",{key:t,value:e.value},e.name)}))))},V=a(37),G=a.n(V),F=function(e){var t=e.displayError?"form-control border-danger":"form-control";return n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:e.name,className:"col-sm-2 col-form-label"},e.title),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("textarea",{id:e.name,rows:e.rows,className:t,name:e.name,onChange:e.handleChange,value:e.value})))},q=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={title:"",description:"",hostUrl:"",cacheActivated:!1,smtpHost:"",smtpPort:"",smtpPortError:!1,smtpCredentialsUser:"",smtpCredentialsPassword:"",smtpEnableSsl:!1,emailSender:"",requireConfirmedEmail:!1,displaySuccess:!1,isLoading:!1,loadingMessage:"",errors:[],theme:"",themeList:[],retry:0,checkConsentNeeded:!0,consentNotice:"",cookieUsePolicyUrl:""},a.handleChange=a.handleChange.bind(Object(j.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(j.a)(a)),a.closeSuccessMessage=a.closeSuccessMessage.bind(Object(j.a)(a)),a.fetchSiteConfiguration=a.fetchSiteConfiguration.bind(Object(j.a)(a)),a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,s=t.name;this.setState(Object(O.a)({},s,a))}},{key:"componentDidMount",value:function(){this.fetchSiteConfiguration({})}},{key:"fetchSiteConfiguration",value:function(e){var t=this,a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("settings.loading")}),fetch("".concat("","/api/siteconfiguration/get"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(a){e.title=a.title||"",e.description=a.description||"",e.hostUrl=a.hostUrl||"",e.cacheActivated=a.cacheActivated||!1,e.isLoading=!1,e.smtpHost=a.smtpHost||"",e.smtpPort=a.smtpPort||"",e.smtpCredentialsUser=a.smtpCredentialsUser||"",e.smtpCredentialsPassword=a.smtpCredentialsPassword||"",e.smtpEnableSsl=a.smtpEnableSsl||!1,e.emailSender=a.emailSender||"",e.requireConfirmedEmail=a.requireConfirmedEmail||!1,e.theme=a.theme||"",e.checkConsentNeeded=a.checkConsentNeeded||!0,e.consentNotice=a.consentNotice||"",e.cookieUsePolicyUrl=a.cookieUsePolicyUrl||"",e.themeList=[],void 0!==a.themeList&&null!==a.themeList&&a.themeList.forEach(function(t){e.themeList.push({name:t,value:t})}),t.setState(e)}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"fetchStartApplication",value:function(){var e=this,t=this.props.t;fetch("".concat("","/api/siteconfiguration/get"),{method:"GET",credentials:"include"}).then(function(a){a.ok?e.setState({isLoading:!1}):e.state.retry<15?(e.setState({retry:e.state.retry+1}),setTimeout(function(){return e.fetchStartApplication()},1e3)):(e.setState({isLoading:!1}),alert(t("settings.startFailed")))})}},{key:"fetchRestartApplication",value:function(){var e=this,t=this.props.t;this.setState({isLoading:!0,message:t("settings.stoppingApplication")}),fetch("".concat("","/api/siteconfiguration/restart"),{method:"GET",credentials:"include"}).then(function(a){e.setState({isLoading:!0,loadingMessage:t("settings.startingApplication")}),a.ok?e.setState({retry:0},e.fetchStartApplication()):alert(t("settings.stopFailed"))})}},{key:"handleSubmit",value:function(e){var t=this,a=this.props.t,s=[],n={};if(e.preventDefault(),G()(Number(this.state.smtpPort))?n.smtpPortError=!1:(s.push(a("settings.smtpPortMustInteger")),n.smtpPortError=!0),s.length>0)n.errors=s,n.displayErrors=!0,n.displaySuccess=!1,this.setState(n);else{var i={};i.title=this.state.title,i.description=this.state.description,i.hostUrl=this.state.hostUrl,i.cacheActivated=this.state.cacheActivated,i.smtpHost=this.state.smtpHost,i.smtpPort=this.state.smtpPort,i.smtpCredentialsUser=this.state.smtpCredentialsUser,i.smtpCredentialsPassword=this.state.smtpCredentialsPassword,i.smtpEnableSsl=this.state.smtpEnableSsl,i.emailSender=this.state.emailSender,i.requireConfirmedEmail=this.state.requireConfirmedEmail,i.theme=this.state.theme,i.checkConsentNeeded=this.state.checkConsentNeeded,i.consentNotice=this.state.consentNotice,i.cookieUsePolicyUrl=this.state.cookieUsePolicyUrl,this.setState({isLoading:!0,loadingMessage:a("settings.saving")}),fetch("".concat("","/api/siteconfiguration/update"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(i)}).then(function(){(i={}).displaySuccess=!0,t.fetchSiteConfiguration(i),t.fetchRestartApplication()}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}}},{key:"closeSuccessMessage",value:function(){this.setState({displaySuccess:!1})}},{key:"closeErrorMessage",value:function(){this.setState({displayErrors:!1})}},{key:"render",value:function(){var e=this.props.t;return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("settings.subtitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},e("settings.title")),n.a.createElement(L,{display:this.state.displaySuccess,handleClose:this.closeSuccessMessage,type:"success",message:e("settings.successMessage")}),n.a.createElement(L,{display:this.state.displayErrors,handleClose:this.closeErrorMessage,type:"danger",messages:this.state.errors}),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement(P,{type:"text",handleChange:this.handleChange,title:"".concat(e("settings.siteTitle")),name:"title",value:this.state.title}),n.a.createElement(P,{type:"text",handleChange:this.handleChange,title:"".concat(e("settings.description")),name:"description",value:this.state.description}),n.a.createElement(P,{type:"text",handleChange:this.handleChange,title:"".concat(e("settings.hostUrl")),name:"hostUrl",value:this.state.hostUrl}),n.a.createElement(R,{label:e("settings.theme"),name:"theme",onChange:this.handleChange,options:this.state.themeList,selectedOption:this.state.theme}),n.a.createElement(T,{name:"cacheActivated",handleChange:this.handleChange,checked:this.state.cacheActivated,title:e("settings.cache")}),n.a.createElement("h3",{className:"mt-5 mb-4"},e("settings.emailSettings")),n.a.createElement(P,{type:"text",handleChange:this.handleChange,title:"".concat(e("settings.smtpHost")),name:"smtpHost",value:this.state.smtpHost}),n.a.createElement(P,{type:"text",handleChange:this.handleChange,displayError:this.state.smtpPortError,title:"".concat(e("settings.smtpPort")),name:"smtpPort",value:this.state.smtpPort}),n.a.createElement(P,{type:"text",handleChange:this.handleChange,title:"".concat(e("settings.smtpUser")),name:"smtpCredentialsUser",value:this.state.smtpCredentialsUser}),n.a.createElement(P,{type:"password",handleChange:this.handleChange,title:"".concat(e("settings.smtpPassword")),name:"smtpCredentialsPassword",value:this.state.smtpCredentialsPassword}),n.a.createElement(T,{name:"smtpEnableSsl",handleChange:this.handleChange,checked:this.state.smtpEnableSsl,title:e("settings.smtpSsl")}),n.a.createElement(P,{type:"text",handleChange:this.handleChange,title:"".concat(e("settings.emailSender")),name:"emailSender",value:this.state.emailSender}),n.a.createElement("h3",{className:"mt-5 mb-4"},e("settings.signIn")),n.a.createElement(T,{className:"mt-5 mb-3",name:"requireConfirmedEmail",handleChange:this.handleChange,checked:this.state.requireConfirmedEmail,title:e("settings.confirmedEmail")}),n.a.createElement("h3",{className:"mt-5 mb-4"},e("settings.cookieSettings")),n.a.createElement(T,{className:"mt-5 mb-3",name:"checkConsentNeeded",handleChange:this.handleChange,checked:this.state.checkConsentNeeded,title:e("settings.checkConsentNeeded")}),n.a.createElement(F,{type:"text",handleChange:this.handleChange,title:"".concat(e("settings.consentNotice")),name:"consentNotice",value:this.state.consentNotice}),n.a.createElement(P,{type:"text",handleChange:this.handleChange,title:"".concat(e("settings.cookieUsePolicyUrl")),name:"cookieUsePolicyUrl",value:this.state.cookieUsePolicyUrl}),n.a.createElement("button",{type:"submit",className:"btn btn-outline-info mt-5 float-right"},e("settings.submit"))))}}]),t}(s.Component),K=Object(r.b)()(q),B=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={moduleId:e.match.params.moduleId,name:"",nameError:!1,definitionId:0,definitionError:!1,pageId:e.match.params.pageId,pageError:!1,placeId:0,placeError:!1,definitionOptions:[],placeOptions:[],errors:[],displaySuccess:!1,displayErrors:!1,permissionOptions:[],permissions:[],isLoading:!1,loadingMessage:"",isStatic:!1,isDisabled:!1},a.handleChange=a.handleChange.bind(Object(j.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(j.a)(a)),a.handlePermissionChange=a.handlePermissionChange.bind(Object(j.a)(a)),a.closeErrorMessage=a.closeErrorMessage.bind(Object(j.a)(a)),a.closeSuccessMessage=a.closeSuccessMessage.bind(Object(j.a)(a)),a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={},a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("module.loadingModuleDefinitions")}),fetch("".concat("","/api/moduledefinition/list"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(a){t.isLoading=!1,t.definitionOptions=[],a.forEach(function(e){t.definitionOptions.push({name:e.name,value:e.id})}),e.fetchPlaceholders(t)}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"fetchModule",value:function(e){var t=this,a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("module.loading")}),fetch("".concat("","/api/module/get/").concat(this.state.moduleId),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(a){e.name=a.name,e.definitionId=a.definitionId,e.pageId=a.pageId,e.placeId=a.placeId,e.permissions=a.permissions,e.isLoading=!1,e.isStatic=a.isStatic,e.isDisabled=a.isDisabled,e.permissionOptions.length>0&&(e.permissionOptions=t.setCheckBoxValues(e.permissionOptions,e.permissions)),t.setState(e)}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"fetchPlaceholders",value:function(e){var t=this,a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("module.loadingPlaces")}),fetch("".concat("","/api/place/listbypageid/").concat(this.state.pageId),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(a){e.isLoading=!1,e.placeOptions=[],a.forEach(function(t){e.placeOptions.push({name:t.keyname,value:t.id})}),t.fetchPermissions(e)}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"fetchPermissions",value:function(e){var t=this,a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("module.loadingPermissions")}),fetch("".concat("","/api/permission/list"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(a){e.isLoading=!1,e.permissionOptions=[],a.forEach(function(t){e.permissionOptions.push({id:t.id,value:t.name,checked:!1})}),void 0!==t.state.moduleId?t.fetchModule(e):t.setState(e)}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"setCheckBoxValues",value:function(e,t){for(var a=0;a<e.length;a++)t.includes(e[a].id)?e[a].checked=!0:e[a].checked=!1;return e}},{key:"handleChange",value:function(e){var t,a=e.target,s="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState((t={},Object(O.a)(t,n,s),Object(O.a)(t,"displaySuccess",!1),t))}},{key:"handlePermissionChange",value:function(e){var t=this.state.permissions,a=this.state.permissionOptions,s=e.target,n=parseInt(s.value,10),i=s.checked,l=t.indexOf(n);i?t.splice(l,0,n):t.splice(l,1),this.setState({permissions:t,permissionOptions:this.setCheckBoxValues(a,t)})}},{key:"handleSubmit",value:function(e){var t=this,a=this.props.t,s=[],n={};if(e.preventDefault(),0===this.state.name.length?(s.push(a("module.emptyName")),n.nameError=!0):n.nameError=!1,0===this.state.definitionId.length?(s.push(a("module.emptyDefinition")),n.definitionError=!0):n.definitionError=!1,0===this.state.placeId.length?(s.push(a("module.emptyPlaceholder")),n.placeError=!0):n.placeError=!1,s.length>0)n.errors=s,n.displayErrors=!0,n.displaySuccess=!1,this.setState(n);else{this.setState({isLoading:!0,loadingMessage:a("module.saving")});var i={};i.id=this.state.moduleId,i.name=this.state.name,i.definitionId=this.state.definitionId,i.pageId=this.state.pageId,i.placeId=this.state.placeId,i.permissions=this.state.permissions,i.isStatic=this.state.isStatic,i.isDisabled=this.state.isDisabled,fetch("".concat("","/api/module/update"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){n.displayErrors=!1,n.displaySuccess=!0,n.isLoading=!1,n.moduleId=e.moduleId,t.setState(n)}).catch(function(e){console.log("Error: \n",e)})}}},{key:"closeSuccessMessage",value:function(){this.setState({displaySuccess:!1})}},{key:"closeErrorMessage",value:function(){this.setState({displayErrors:!1})}},{key:"renderPermissions",value:function(){var e=this;return this.state.permissionOptions.map(function(t,a){return n.a.createElement(T,{key:a,name:"permissions",value:t.id,handleChange:e.handlePermissionChange,checked:t.checked,title:t.value})})}},{key:"render",value:function(){var e=this.props.t,t=this.state.moduleId>0?"".concat(e("module.module")," : ").concat(this.state.name):e("module.newModule");return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("module.editTitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},t),n.a.createElement(L,{display:this.state.displaySuccess,handleClose:this.closeSuccessMessage,type:"success",message:e("module.moduleUpdateSuccess")}),n.a.createElement(L,{display:this.state.displayErrors,handleClose:this.closeErrorMessage,type:"danger",messages:this.state.errors}),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("h3",{className:"mt-5 mb-3"},e("module.general")),n.a.createElement(P,{type:"text",handleChange:this.handleChange,displayError:this.state.nameError,title:"".concat(e("module.name")," *"),name:"name",value:this.state.name}),n.a.createElement(R,{label:"".concat(e("module.moduleDefinition")," *"),placeholder:e("module.selectDefinition"),name:"definitionId",displayError:this.state.definitionError,onChange:this.handleChange,options:this.state.definitionOptions,selectedOption:this.state.definitionId}),n.a.createElement(R,{label:"".concat(e("module.placeholder")," *"),placeholder:e("module.selectPlaceholder"),name:"placeId",displayError:this.state.placeError,onChange:this.handleChange,options:this.state.placeOptions,selectedOption:this.state.placeId}),n.a.createElement(T,{name:"isStatic",value:this.state.isStatic,handleChange:this.handleChange,checked:this.state.isStatic,title:e("module.isStatic")}),n.a.createElement(T,{name:"isDisabled",value:this.state.isDisabled,handleChange:this.handleChange,checked:this.state.isDisabled,title:e("module.isDisabled")}),n.a.createElement("h3",{className:"mt-5 mb-3"},e("module.permissions")),this.renderPermissions(),n.a.createElement("button",{type:"submit",className:"btn btn-outline-info mt-5 float-right"},e("module.submit"))))}}]),t}(s.Component),J=Object(r.b)()(B),H=a(23),z=function(e){return n.a.createElement("div",{className:"modal fade",id:e.id,tabIndex:"-1",role:"dialog","aria-labelledby":"ModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},n.a.createElement("div",{className:"modal-content text-white bg-dark"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"ModalLabel"},e.title),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},e.message),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",onClick:e.onConfirm,className:"btn btn-outline-info","data-dismiss":"modal"},e.confirmLabel),n.a.createElement("button",{type:"button",className:"btn btn-outline-info","data-dismiss":"modal"},e.cancelLabel)))))},W=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={pageId:e.match.params.pageId||0,modules:[],isLoading:!1,loadingMessage:""},a.handleDelete=a.handleDelete.bind(Object(j.a)(a)),a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0,loadingMessage:"Loading modules ..."}),fetch("".concat("","/api/module/list"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(t){var a=t;e.state.pageId>0&&(a=t.filter(function(t){return t.pageId===parseInt(e.state.pageId,10)})),e.setState({modules:a,isLoading:!1})}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"handleDelete",value:function(e){var t=this;this.setState({isLoading:!0,loadingMessage:"Deleting module ..."}),fetch("".concat("","/api/module/delete"),{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(e)}).then(function(){t.componentDidMount()}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"openPopup",value:function(e){e.preventDefault(),window.open(e.currentTarget.href,"Module settings","width=800,height=600")}},{key:"renderModules",value:function(){var e=this,t=this.props.t;return 0===this.state.modules.length?n.a.createElement("tr",null,n.a.createElement("td",{align:"center",colSpan:"5"},t("modulelist.noModuleFound"))):this.state.modules.map(function(a,s){var i="dialog-".concat(s);return n.a.createElement("tr",{key:s},n.a.createElement("td",null,a.id),n.a.createElement("td",null,a.name),n.a.createElement("td",null,n.a.createElement("a",{href:"".concat(window.location.origin,"/admin/module/settings/").concat(a.id,"/settings"),onClick:function(t){return e.openPopup(t)}},n.a.createElement("span",{className:"ion-gear-a"}))),n.a.createElement("td",null,n.a.createElement(H.a,{to:"/admin/modules/edit/".concat(a.id)},n.a.createElement("span",{className:"ion-compose"}))),n.a.createElement("td",null,n.a.createElement("a",{href:"","data-toggle":"modal","data-target":"#".concat(i)},n.a.createElement("span",{className:"ion-trash-a"})),n.a.createElement(z,{id:i,title:t("modulelist.deleteTitle"),message:"".concat(t("modulelist.uninstallAsk"),' "').concat(a.name,'" ?'),onConfirm:function(){return e.handleDelete(a.id)},confirmLabel:t("modulelist.deleteConfirm"),cancelLabel:t("modulelist.deleteCancel")})))})}},{key:"render",value:function(){var e=this.props.t;return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("modulelist.subtitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},e("modulelist.title")),this.state.pageId>0&&n.a.createElement(H.a,{to:"/admin/modules/new/".concat(this.state.pageId),className:"btn btn-outline-info mb-5"},e("modulelist.newModule")),n.a.createElement("div",{className:"float-right"},n.a.createElement(H.a,{to:"/admin/modules/install",className:"btn btn-outline-info mb-5"},e("modulelist.manageModuleDefinitions"))),n.a.createElement("table",{className:"table table-dark bg-dark"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},e("modulelist.name")),n.a.createElement("th",{scope:"col"},e("modulelist.contentSettings")),n.a.createElement("th",{scope:"col"},e("modulelist.edit")),n.a.createElement("th",{scope:"col"},e("modulelist.delete")))),n.a.createElement("tbody",null,this.renderModules())))}}]),t}(s.Component),Q=Object(r.b)()(W),X=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={modules:[],isLoading:!1,loadingMessage:""},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.t;this.setState({isLoading:!0,loadingMessage:t("moduleinstall.loadingModules")}),fetch("".concat("","/api/moduledefinition/modulefound"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(t){e.setState({modules:t,isLoading:!1})}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"handleInstall",value:function(e,t){var a=this,s=this.props.t;e.preventDefault(),this.setState({isLoading:!0,loadingMessage:s("moduleinstall.installingModule")}),fetch("".concat("","/api/moduledefinition/install"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(t)}).then(function(){a.componentDidMount()}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"handleUninstall",value:function(e,t,a){var s=this,n=this.props.t;e.preventDefault(),this.setState({isLoading:!0,loadingMessage:n("moduleinstall.uninstallingModule")});var i={name:t,id:a};fetch("".concat("","/api/moduledefinition/uninstall"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(i)}).then(function(){s.componentDidMount()}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"renderModules",value:function(){var e=this,t=this.props.t;return 0===this.state.modules.length?n.a.createElement("tr",null,n.a.createElement("td",{align:"center",colSpan:"4"},t("moduleinstall.noModuleFound"))):this.state.modules.map(function(a,s){var i="dialog-".concat(s);return a.moduleDefinitionId>0?n.a.createElement("tr",{key:s},n.a.createElement("td",null,a.name),n.a.createElement("td",null,n.a.createElement("span",{className:"ion-checkmark-round"})),n.a.createElement("td",null,a.version),n.a.createElement("td",null,n.a.createElement("a",{href:"","data-toggle":"modal","data-target":"#".concat(i)},n.a.createElement("span",{className:"ion-trash-a"})),n.a.createElement(z,{id:i,title:t("moduleinstall.uninstallModule"),message:"".concat(t("moduleinstall.uninstallAsk"),' "').concat(a.name,'" ?'),onConfirm:function(t){return e.handleUninstall(t,a.assemblyName,a.moduleDefinitionId)},confirmLabel:t("moduleinstall.uninstall"),cancelLabel:t("moduleinstall.cancel")}))):n.a.createElement("tr",{key:s},n.a.createElement("td",null,a.assemblyName),n.a.createElement("td",null,n.a.createElement("span",{className:"ion-close-round"})),n.a.createElement("td",null,a.version),n.a.createElement("td",null,n.a.createElement("a",{href:"",onClick:function(t){return e.handleInstall(t,a.assemblyName)}},n.a.createElement("span",{className:"ion-plus-round"}))))})}},{key:"render",value:function(){var e=this.props.t;return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("moduleinstall.subtitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},e("moduleinstall.title")),n.a.createElement("table",{className:"table table-dark bg-dark"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},e("moduleinstall.name")),n.a.createElement("th",{scope:"col"},e("moduleinstall.status")),n.a.createElement("th",{scope:"col"},e("moduleinstall.version")),n.a.createElement("th",{scope:"col"},e("moduleinstall.action")))),n.a.createElement("tbody",null,this.renderModules())))}}]),t}(s.Component),Y=Object(r.b)()(X),Z=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={pages:[],isLoading:!1,loadingMessage:""},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.t;this.setState({isLoading:!0,loadingMessage:t("pagelist.loadingPages")}),fetch("".concat("","/api/page/list"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(t){e.setState({pages:t,isLoading:!1})}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"handleDelete",value:function(e){var t=this,a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("pagelist.deleting")}),fetch("".concat("","/api/page/delete"),{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(e)}).then(function(){t.componentDidMount()}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"renderPages",value:function(){var e=this,t=this.props.t;return 0===this.state.pages.length?n.a.createElement("tr",null,n.a.createElement("td",{align:"center",colSpan:"6"},t("pagelist.noPageFound"))):this.state.pages.map(function(a,s){var i="dialog-".concat(s);return n.a.createElement("tr",{key:s},n.a.createElement("td",null,a.id),n.a.createElement("td",null,a.name),n.a.createElement("td",null,a.keyName),n.a.createElement("td",null,n.a.createElement(H.a,{to:"/admin/modules/".concat(a.id)},n.a.createElement("span",{className:"ion-cube"}))),n.a.createElement("td",null,n.a.createElement(H.a,{to:"/admin/pages/edit/".concat(a.id)},n.a.createElement("span",{className:"ion-compose"}))),n.a.createElement("td",null,n.a.createElement("a",{href:"",onClick:function(e){return e.preventDefault()},"data-toggle":"modal","data-target":"#".concat(i)},n.a.createElement("span",{className:"ion-trash-a"})),n.a.createElement(z,{id:i,title:t("pagelist.deleteTitle"),message:"".concat(t("pagelist.deleteMessage"),' "').concat(a.name,'" ?'),onConfirm:function(){return e.handleDelete(a.id)},confirmLabel:t("pagelist.delete"),cancelLabel:t("pagelist.cancel")})))})}},{key:"render",value:function(){var e=this.props.t;return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("pagelist.subtitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},e("pagelist.title")),n.a.createElement(H.a,{to:"/admin/pages/edit",className:"btn btn-outline-info mb-4"},e("pagelist.newPage")),n.a.createElement("div",{className:"float-right"},n.a.createElement(H.a,{to:"/admin/pages/templates",className:"btn btn-outline-info mb-5"},e("pagelist.manageTemplates"))),n.a.createElement("table",{className:"table table-dark bg-dark"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},e("pagelist.name")),n.a.createElement("th",{scope:"col"},e("pagelist.keyname")),n.a.createElement("th",{scope:"col"},e("pagelist.modules")),n.a.createElement("th",{scope:"col"},e("pagelist.edit")),n.a.createElement("th",{scope:"col"},e("pagelist.delete")))),n.a.createElement("tbody",null,this.renderPages())))}}]),t}(s.Component),$=Object(r.b)()(Z),_=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(j.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(j.a)(a)),a.closeErrorMessage=a.closeErrorMessage.bind(Object(j.a)(a)),a.closeSuccessMessage=a.closeSuccessMessage.bind(Object(j.a)(a)),a.state={pageId:e.match.params.pageId,title:"",titleError:!1,keyname:"",keynameError:!1,templateId:"",templateError:!1,metaKeywords:"",metaDescription:"",metaRobot:"",displaySuccess:!1,displayErrors:!1,templateOptions:[],errors:[],isLoading:!1,loadingMessage:""},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={};fetch("".concat("","/api/template/list"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(a){t.templateOptions=[],t.isLoading=!1,a.forEach(function(e){t.templateOptions.push({name:e.name,value:e.id})}),void 0!==e.state.pageId?e.fetchPage(t):e.setState(t)}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"fetchPage",value:function(e){var t=this,a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("page.loading")}),fetch("".concat("","/api/page/get/").concat(this.state.pageId),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(a){e.title=a.name,e.keyname=a.keyName,e.templateId=a.templateId,e.metaKeywords=a.metaKeywords,e.metaDescription=a.metaDescription,e.metaRobot=a.metaRobot,e.isLoading=!1,t.setState(e)}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"handleChange",value:function(e){var t,a=e.target,s="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState((t={},Object(O.a)(t,n,s),Object(O.a)(t,"displaySuccess",!1),t))}},{key:"handleSubmit",value:function(e){var t=this,a=this.props.t,s=[],n={},i={};e.preventDefault(),this.setState({isLoading:!0,loadingMessage:a("page.saving")}),0===this.state.title.length?(s.push(a("page.emptyTitle")),n.titleError=!0):n.titleError=!1,0===this.state.keyname.length?(s.push(a("page.emptyKeyname")),n.keynameError=!0):n.keynameError=!1,0===this.state.templateId.length?(s.push(a("page.requiredTemplate")),n.templateError=!0):n.templateError=!1,s.length>0?(n.errors=s,n.displayErrors=!0,n.displaySuccess=!1,this.setState(n)):(n.displayErrors=!1,i.id=this.state.pageId,i.name=this.state.title,i.keyName=this.state.keyname,i.templateId=this.state.templateId,i.metaKeywords=this.state.metaKeywords,i.metaDescription=this.state.metaDescription,i.metaRobot=this.state.metaRobot,fetch("".concat("","/api/page/update"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){n.displaySuccess=!0,n.isLoading=!1,n.pageId=e.pageId,t.setState(n)}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)}))}},{key:"closeSuccessMessage",value:function(){this.setState({displaySuccess:!1})}},{key:"closeErrorMessage",value:function(){this.setState({displayErrors:!1})}},{key:"render",value:function(){var e=this.props.t,t=this.state.pageId>0?"".concat(e("page.page")," : ").concat(this.state.title):e("page.newPage");return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("page.subtitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},t),n.a.createElement(L,{display:this.state.displaySuccess,handleClose:this.closeSuccessMessage,type:"success",message:e("page.updateSuccess")}),n.a.createElement(L,{display:this.state.displayErrors,handleClose:this.closeErrorMessage,type:"danger",messages:this.state.errors}),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("h3",{className:"mt-5 mb-3"},e("page.general")),n.a.createElement(P,{type:"text",handleChange:this.handleChange,displayError:this.state.titleError,title:"".concat(e("page.title")," *"),name:"title",value:this.state.title}),n.a.createElement(P,{type:"text",handleChange:this.handleChange,displayError:this.state.keynameError,title:"".concat(e("page.keyname")," *"),name:"keyname",value:this.state.keyname}),n.a.createElement(R,{label:"".concat(e("page.template")," * :"),placeholder:e("page.defaultTemplate"),name:"templateId",displayError:this.state.templateError,onChange:this.handleChange,options:this.state.templateOptions,selectedOption:this.state.templateId}),n.a.createElement("h3",{className:"mt-5 mb-3"},e("page.SEO")),n.a.createElement(P,{type:"text",handleChange:this.handleChange,title:"".concat(e("page.metaKeywords")),name:"metaKeywords",value:this.state.metaKeywords}),n.a.createElement(F,{handleChange:this.handleChange,title:"".concat(e("page.metaDescription")),rows:"3",name:"metaDescription",value:this.state.metaDescription}),n.a.createElement(P,{type:"text",handleChange:this.handleChange,title:"".concat(e("page.metaRobot")),name:"metaRobot",value:this.state.metaRobot}),n.a.createElement("button",{type:"submit",className:"btn btn-outline-info mt-5 float-right"},e("page.submit"))))}}]),t}(s.Component),ee=Object(r.b)()(_),te=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={users:[],isLoading:!1,loadingMessage:""},a.handleDelete=a.handleDelete.bind(Object(j.a)(a)),a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.t;this.setState({isLoading:!0,loadingMessage:t("userlist.loading")}),fetch("".concat("","/api/user/list"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(t){e.setState({users:t,isLoading:!1})}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"handleDelete",value:function(e){var t=this,a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("userlist.deleting")}),fetch("".concat("","/api/user/delete"),{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(e)}).then(function(){t.componentDidMount()}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"renderUsers",value:function(){var e=this,t=this.props.t;return 0===this.state.users.length?n.a.createElement("tr",null,n.a.createElement("td",{align:"center",colSpan:"5"},t("userlist.noUserFound"))):this.state.users.map(function(a,s){var i="dialog-".concat(s);return n.a.createElement("tr",{key:s},n.a.createElement("td",null,a.id),n.a.createElement("td",null,a.userName),n.a.createElement("td",null,a.email),n.a.createElement("td",null,n.a.createElement(H.a,{to:"/admin/users/edit/".concat(a.id)},n.a.createElement("span",{className:"ion-compose"}))),n.a.createElement("td",null,n.a.createElement("a",{href:"","data-toggle":"modal","data-target":"#".concat(i)},n.a.createElement("span",{className:"ion-trash-a"})),n.a.createElement(z,{id:i,title:t("userlist.deleteTitle"),message:"".concat(t("userlist.deleteMessage"),' "').concat(a.userName,'" ?'),onConfirm:function(){return e.handleDelete(a.id)},confirmLabel:t("userlist.delete"),cancelLabel:t("userlist.cancel")})))})}},{key:"render",value:function(){var e=this.props.t;return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("userlist.subtitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},e("userlist.title")),n.a.createElement(H.a,{to:"/admin/users/edit",className:"btn btn-outline-info mb-5"},e("userlist.newUser")),n.a.createElement("div",{className:"float-right"},n.a.createElement(H.a,{to:"/admin/users/roles",className:"btn btn-outline-info mb-5"},e("userlist.manageRoles")),n.a.createElement(H.a,{to:"/admin/users/permissions",className:"btn btn-outline-info mb-5 ml-3"},e("userlist.managePermissions"))),n.a.createElement("table",{className:"table table-hover table-dark bg-dark"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},e("userlist.username")),n.a.createElement("th",{scope:"col"},e("userlist.email")),n.a.createElement("th",{scope:"col"},e("userlist.edit")),n.a.createElement("th",{scope:"col"},e("userlist.delete")))),n.a.createElement("tbody",null,this.renderUsers())))}}]),t}(s.Component),ae=Object(r.b)()(te),se=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(j.a)(a)),a.handleRoleChange=a.handleRoleChange.bind(Object(j.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(j.a)(a)),a.closeErrorMessage=a.closeErrorMessage.bind(Object(j.a)(a)),a.closeSuccessMessage=a.closeSuccessMessage.bind(Object(j.a)(a)),a.state={userId:e.match.params.userId,email:"",password:"",confirmPassword:"",roles:[],roleOptions:[],emailError:!1,passwordError:!1,displaySuccess:!1,displayErrors:!1,errors:[],isLoading:!1,loadingMessage:""},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.t,a={};this.setState({isLoading:!0,loadingMessage:t("user.loadingRoles")}),fetch("".concat("","/api/role/list"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(t){a.roleOptions=[],a.isLoading=!1,t.forEach(function(e){a.roleOptions.push({id:e.id,value:e.name,checked:!1})}),void 0!==e.state.userId?e.fetchUser(a):e.setState(a)}).catch(function(e){console.log("Error: \n",e)})}},{key:"fetchUser",value:function(e){var t=this,a=this.props.t;if(this.setState({isLoading:!0,loadingMessage:a("user.loading")}),void 0===this.state.userId)return e.isLoading=!1,void this.setState(e);fetch("".concat("","/api/user/get/").concat(this.state.userId),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(a){e.email=a.email,e.roles=a.roles,e.isLoading=!1,e.roleOptions.length>0&&(e.roleOptions=t.setCheckBoxValues(e.roleOptions,e.roles)),t.setState(e)}).catch(function(e){console.log("Error: \n",e)})}},{key:"setCheckBoxValues",value:function(e,t){for(var a=0;a<e.length;a++)t.includes(e[a].id)?e[a].checked=!0:e[a].checked=!1;return e}},{key:"handleChange",value:function(e){var t,a=e.target,s="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState((t={},Object(O.a)(t,n,s),Object(O.a)(t,"displaySuccess",!1),t))}},{key:"handleRoleChange",value:function(e){var t=this.state.roles,a=this.state.roleOptions,s=e.target,n=s.value,i=s.checked,l=t.indexOf(n);i?t.splice(l,0,n):t.splice(l,1),this.setState({roles:t,rolesOptions:this.setCheckBoxValues(a,t)})}},{key:"handleSubmit",value:function(e){var t=this,a=this.props.t,s=[],n={};if(e.preventDefault(),0===this.state.email.length?(s.push(a("user.emptyEmail")),n.emailError=!0):n.emailError=!1,void 0===this.state.userId&&this.state.password!==this.state.confirmPassword?(s.push(a("user.samePassword")),n.passwordError=!0):n.passwordError=!1,s.length>0)return n.errors=s,n.displayErrors=!0,n.displaySuccess=!1,void this.setState(n);n.displayErrors=!1,n.displaySuccess=!0;var i={};i.id=this.state.userId,i.email=this.state.email,i.roles=this.state.roles,i.password=this.state.password,fetch("".concat("","/api/user/update"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){if(e.succeeded)n.displaySuccess=!0,n.isLoading=!1,n.userId=e,t.setState(n);else{for(var a=[],s=0;s<e.errors.length;s++)a.push(e.errors[s].description);t.setState({isLoading:!1,displayErrors:!0,errors:a})}})}},{key:"closeSuccessMessage",value:function(){this.setState({displaySuccess:!1})}},{key:"closeErrorMessage",value:function(){this.setState({displayErrors:!1})}},{key:"renderRoles",value:function(){var e=this;return this.state.roleOptions.map(function(t,a){return n.a.createElement(T,{key:a,name:"roles",value:t.id,handleChange:e.handleRoleChange,checked:t.checked,title:t.value})})}},{key:"renderPassword",value:function(){var e=this.props.t;return void 0!==this.state.userId?null:n.a.createElement("div",null,n.a.createElement(P,{type:"password",handleChange:this.handleChange,displayError:this.state.passwordError,title:"".concat(e("user.password")," *"),name:"password",value:this.state.password}),n.a.createElement(P,{type:"password",handleChange:this.handleChange,displayError:this.state.passwordError,title:"".concat(e("user.confirmPassword")," *"),name:"confirmPassword",value:this.state.confirmPassword}))}},{key:"render",value:function(){var e=this.props.t,t=void 0!==this.state.userId?e("user.editUser"):e("user.newUser");return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("user.subtitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},t),n.a.createElement(L,{display:this.state.displaySuccess,handleClose:this.closeSuccessMessage,type:"success",message:e("user.updateSuccess")}),n.a.createElement(L,{display:this.state.displayErrors,handleClose:this.closeErrorMessage,type:"danger",messages:this.state.errors}),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("h3",{className:"mt-5 mb-3"},e("user.general")),n.a.createElement(P,{type:"text",handleChange:this.handleChange,displayError:this.state.emailError,title:"".concat(e("user.emailAddress")," *"),name:"email",value:this.state.email}),this.renderPassword(),n.a.createElement("h3",{className:"mt-5 mb-3"},e("user.roles")),this.renderRoles(),n.a.createElement("button",{type:"submit",className:"btn btn-outline-info mt-5 float-right"},e("user.submit"))))}}]),t}(s.Component),ne=Object(r.b)()(se),ie=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={roles:[],isLoading:!1,loadingMessage:""},a.handleDelete=a.handleDelete.bind(Object(j.a)(a)),a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.t;this.setState({isLoading:!0,loadingMessage:t("rolelist.loading")}),fetch("".concat("","/api/role/list"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(t){e.setState({roles:t,isLoading:!1})}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"handleDelete",value:function(e){var t=this,a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("rolelist.deleting")}),fetch("".concat("","/api/role/delete"),{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(e)}).then(function(){t.componentDidMount()}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"renderRoles",value:function(){var e=this,t=this.props.t;return 0===this.state.roles.length?n.a.createElement("tr",null,n.a.createElement("td",{align:"center",colSpan:"5"},t("rolelist.noRoleFound"))):this.state.roles.map(function(a,s){var i="dialog-".concat(s);return n.a.createElement("tr",{key:s},n.a.createElement("td",null,a.id),n.a.createElement("td",null,a.name),n.a.createElement("td",null,n.a.createElement(H.a,{to:"/admin/users/role/".concat(a.id)},n.a.createElement("span",{className:"ion-compose"}))),n.a.createElement("td",null,n.a.createElement("a",{href:"","data-toggle":"modal","data-target":"#".concat(i)},n.a.createElement("span",{className:"ion-trash-a"})),n.a.createElement(z,{id:i,title:t("rolelist.deleteTitle"),message:"".concat(t("rolelist.deleteMessage"),' "').concat(a.name,'" ?'),onConfirm:function(){return e.handleDelete(a.id)},confirmLabel:t("rolelist.delete"),cancelLabel:t("rolelist.cancel")})))})}},{key:"render",value:function(){var e=this.props.t;return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("rolelist.subtitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},e("rolelist.title")),n.a.createElement(H.a,{to:"/admin/users/role",className:"btn btn-outline-info mb-5"},e("rolelist.newRole")),n.a.createElement("table",{className:"table table-dark bg-dark"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},e("rolelist.name")),n.a.createElement("th",{scope:"col"},e("rolelist.edit")),n.a.createElement("th",{scope:"col"},e("rolelist.delete")))),n.a.createElement("tbody",null,this.renderRoles())))}}]),t}(s.Component),le=Object(r.b)()(ie),oe=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(j.a)(a)),a.handlePermissionChange=a.handlePermissionChange.bind(Object(j.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(j.a)(a)),a.closeErrorMessage=a.closeErrorMessage.bind(Object(j.a)(a)),a.closeSuccessMessage=a.closeSuccessMessage.bind(Object(j.a)(a)),a.state={roleId:e.match.params.roleId,name:"",roles:[],permissions:[],permissionOptions:[],nameError:!1,displaySuccess:!1,displayErrors:!1,errors:[],isLoading:!0,loadingMessage:""},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.t,a={};this.setState({isLoading:!0,loadingMessage:t("role.loadingPermissions")}),fetch("".concat("","/api/permission/list"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(t){a.permissionOptions=[],a.isLoading=!1,t.forEach(function(e){a.permissionOptions.push({id:e.id,value:e.name,checked:!1})}),void 0!==e.state.roleId?e.fetchRole(a):e.setState(a)}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"fetchRole",value:function(e){var t=this,a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("role.loadingRoles")}),fetch("".concat("","/api/role/get/").concat(this.state.roleId),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(a){e.name=a.name,e.isLoading=!1,e.permissionOptions.length>0&&(e.permissionOptions=t.setCheckBoxValues(e.permissionOptions,e.permissions)),t.setState(e)}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"setCheckBoxValues",value:function(e,t){for(var a=0;a<e.length;a++)void 0!==t&&t.includes(e[a].id)?e[a].checked=!0:e[a].checked=!1;return e}},{key:"handleChange",value:function(e){var t,a=e.target,s="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState((t={},Object(O.a)(t,n,s),Object(O.a)(t,"displaySuccess",!1),t))}},{key:"handlePermissionChange",value:function(e){var t=this.state.permissions,a=this.state.permissionOptions,s=e.target,n=parseInt(s.value,10),i=s.checked,l=t.indexOf(n);i?t.splice(l,0,n):t.splice(l,1),this.setState({permissions:t,permissionOptions:this.setCheckBoxValues(a,t)})}},{key:"handleSubmit",value:function(e){var t=this,a=this.props.t,s=[],n={};e.preventDefault(),0===this.state.name.length?(s.push(a("role.emptyName")),n.nameError=!0):n.nameError=!1,s.length>0?(n.errors=s,n.displayErrors=!0,n.displaySuccess=!1):(n.displayErrors=!1,n.displaySuccess=!0);var i={};i.id=this.state.roleId,i.name=this.state.name,i.permissions=this.state.permissions,fetch("".concat("","/api/role/update"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){n.displaySuccess=!0,n.isLoading=!1,n.roleId=e.roleId,t.setState(n)}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"closeSuccessMessage",value:function(){this.setState({displaySuccess:!1})}},{key:"closeErrorMessage",value:function(){this.setState({displayErrors:!1})}},{key:"renderPermissions",value:function(){var e=this;return this.state.permissionOptions.map(function(t,a){return n.a.createElement(T,{key:a,name:"roles",value:t.id,handleChange:e.handlePermissionChange,checked:t.checked,title:t.value})})}},{key:"render",value:function(){var e=this.props.t,t=void 0!==this.state.roleId?e("role.editRole"):e("role.newRole");return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("role.subtitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},t),n.a.createElement(L,{display:this.state.displaySuccess,handleClose:this.closeSuccessMessage,type:"success",message:e("role.updateSuccess")}),n.a.createElement(L,{display:this.state.displayErrors,handleClose:this.closeErrorMessage,type:"danger",messages:this.state.errors}),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("h3",{className:"mt-5 mb-3"},e("role.general")),n.a.createElement(P,{type:"text",handleChange:this.handleChange,displayError:this.state.nameError,title:"".concat(e("role.name")," *"),name:"name",value:this.state.name}),n.a.createElement("h3",{className:"mt-5 mb-3"},e("role.permissions")),this.renderPermissions(),n.a.createElement("button",{type:"submit",className:"btn btn-outline-info mt-5 float-right"},e("role.submit"))))}}]),t}(s.Component),re=Object(r.b)()(oe),ce=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={name:"",permissions:[],isLoading:!1,loadingMessage:""},a.handleCreate=a.handleCreate.bind(Object(j.a)(a)),a.handleChange=a.handleChange.bind(Object(j.a)(a)),a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.t;this.setState({isLoading:!0,loadingMessage:t("permissionlist.loading")}),fetch("".concat("","/api/permission/list"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(t){e.setState({permissions:t,isLoading:!1})}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"handleCreate",value:function(e){var t=this,a=this.props.t,s=this.state.name;e.preventDefault(),this.setState({isLoading:!0,loadingMessage:a("permissionlist.adding")}),fetch("".concat("","/api/permission/add"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(s)}).then(function(e){return e.json()}).then(function(e){t.componentDidMount()}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,s=t.name;this.setState(Object(O.a)({},s,a))}},{key:"handleDelete",value:function(e){var t=this,a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("permissionlist.deleting")}),fetch("".concat("","/api/permission/delete"),{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(e)}).then(function(){t.componentDidMount()}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"renderPermissions",value:function(){var e=this,t=this.props.t;return 0===this.state.permissions.length?n.a.createElement("tr",null,n.a.createElement("td",{align:"center",colSpan:"5"},t("permissionlist.noPermissionFound"))):this.state.permissions.map(function(a,s){var i="dialog-".concat(s);return n.a.createElement("tr",{key:s},n.a.createElement("td",null,a.id),n.a.createElement("td",null,a.name),n.a.createElement("td",null,n.a.createElement("a",{href:"",onClick:function(e){return e.preventDefault()},"data-toggle":"modal","data-target":"#".concat(i)},n.a.createElement("span",{className:"ion-trash-a"})),n.a.createElement(z,{id:i,title:t("permissionlist.deleteTitle"),message:"".concat(t("permissionlist.deleteMessage"),' "').concat(a.name,'" ?'),onConfirm:function(){return e.handleDelete(a.id)},confirmLabel:t("permissionlist.delete"),cancelLabel:t("permissionlist.cancel")})))})}},{key:"render",value:function(){var e=this.props.t;return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("permissionlist.subtitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},e("permissionlist.title")),n.a.createElement("div",{className:"container mb-4"},n.a.createElement("div",{className:"row"},n.a.createElement("input",{id:"name",className:"form-control col-sm-3 mr-2",onChange:this.handleChange,name:"name",type:"text"}),n.a.createElement("a",{href:"",className:"btn btn-outline-info col-sm-1",onClick:this.handleCreate},e("permissionlist.add")))),n.a.createElement("table",{className:"table table-dark bg-dark"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},e("permissionlist.name")),n.a.createElement("th",{scope:"col"},e("permissionlist.delete")))),n.a.createElement("tbody",null,this.renderPermissions())))}}]),t}(s.Component),de=Object(r.b)()(ce),me=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(j.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(j.a)(a)),a.closeErrorMessage=a.closeErrorMessage.bind(Object(j.a)(a)),a.closeSuccessMessage=a.closeSuccessMessage.bind(Object(j.a)(a)),a.state={templateId:e.match.params.templateId,name:"",nameError:!1,keyname:"",keynameOptions:[],keynameError:!1,modelClass:"",modelClassError:!1,viewPath:"",viewPathError:!1,viewPathOptions:[],displaySuccess:!1,displayErrors:!1,errors:[],isLoading:!1,loadingMessage:""},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={};fetch("".concat("","/api/template/listviewpaths"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(a){t.viewPathOptions=[],t.isLoading=!1,a.forEach(function(e){t.viewPathOptions.push({name:e.name,value:e.value})}),""!==e.state.viewPath?e.fetchKeynames(t):e.setState(t),e.state.templateId>0&&(t={},e.fetchTemplate(t))}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"fetchKeynames",value:function(e){var t=this,a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("page.loading")}),fetch("".concat("","/api/template/listkeynames?viewPath=").concat(this.state.viewPath),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(a){e.keynameOptions=[],e.isLoading=!1,a.forEach(function(t){e.keynameOptions.push({name:t.name,value:t.value})}),t.setState(e)}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"fetchTemplate",value:function(e){var t=this,a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("page.loading")}),fetch("".concat("","/api/template/get/").concat(this.state.templateId),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(a){e.name=a.name,e.keyname=a.keyName,e.viewPath=a.viewPath,e.modelClass=a.modelClass,e.isLoading=!1,t.setState(e,function(){t.state.viewPath.length>0&&(e={},t.fetchKeynames(e))})}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"handleChange",value:function(e){var t,a=this,s=e.target,n="checkbox"===s.type?s.checked:s.value,i=s.name;this.setState((t={},Object(O.a)(t,i,n),Object(O.a)(t,"displaySuccess",!1),t),function(){if("viewPath"===i&&n.length>0){a.fetchKeynames({})}})}},{key:"handleSubmit",value:function(e){var t=this,a=this.props.t,s=[],n={},i={};e.preventDefault(),this.setState({isLoading:!0,loadingMessage:a("page.saving")}),0===this.state.name.length?(s.push(a("template.emptyName")),n.nameError=!0):n.nameError=!1,0===this.state.keyname.length?(s.push(a("template.emptyKeyname")),n.keynameError=!0):n.keynameError=!1,0===this.state.modelClass.length?(s.push(a("template.requiredModelClass")),n.modelClassError=!0):n.modelClassError=!1,0===this.state.viewPath.length?(s.push(a("template.requiredViewPath")),n.viewPathError=!0):n.viewPathError=!1,s.length>0?(n.errors=s,n.displayErrors=!0,n.displaySuccess=!1,this.setState(n)):(n.displayErrors=!1,i.id=this.state.templateId,i.name=this.state.name,i.keyName=this.state.keyname,i.modelClass=this.state.modelClass,i.viewPath=this.state.viewPath,fetch("".concat("","/api/template/update"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){n.displaySuccess=!0,n.isLoading=!1,n.templateId=e.templateId,t.setState(n)}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)}))}},{key:"closeSuccessMessage",value:function(){this.setState({displaySuccess:!1})}},{key:"closeErrorMessage",value:function(){this.setState({displayErrors:!1})}},{key:"renderKeyname",value:function(e){return n.a.createElement(R,{label:"".concat(e("template.keyname")," * :"),placeholder:e("template.defaultKeyname"),name:"keyname",onChange:this.handleChange,options:this.state.keynameOptions,selectedOption:this.state.keyname})}},{key:"render",value:function(){var e=this.props.t,t=this.state.viewPath.length>0?this.renderKeyname(e):null,a=this.state.pageId>0?"".concat(e("template.template")," : ").concat(this.state.name):e("template.newTemplate");return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("template.subtitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},a),n.a.createElement(L,{display:this.state.displaySuccess,handleClose:this.closeSuccessMessage,type:"success",message:e("template.updateSuccess")}),n.a.createElement(L,{display:this.state.displayErrors,handleClose:this.closeErrorMessage,type:"danger",messages:this.state.errors}),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement(P,{type:"text",handleChange:this.handleChange,displayError:this.state.titleError,title:"".concat(e("template.name")," *"),name:"name",value:this.state.name}),n.a.createElement(P,{type:"text",handleChange:this.handleChange,displayError:this.state.modelClassError,title:"".concat(e("template.modelClass")," *"),name:"modelClass",value:this.state.modelClass}),n.a.createElement(R,{label:"".concat(e("template.viewPath")," * :"),placeholder:e("template.defaultViewPath"),name:"viewPath",onChange:this.handleChange,options:this.state.viewPathOptions,selectedOption:this.state.viewPath}),t,n.a.createElement("button",{type:"submit",className:"btn btn-outline-info mt-5 float-right"},e("template.submit"))))}}]),t}(s.Component),ue=Object(r.b)()(me),he=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={templates:[],isLoading:!1,loadingMessage:""},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.t;this.setState({isLoading:!0,loadingMessage:t("templatelist.loadingPages")}),fetch("".concat("","/api/template/list"),{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(t){e.setState({templates:t,isLoading:!1})}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"handleDelete",value:function(e){var t=this,a=this.props.t;this.setState({isLoading:!0,loadingMessage:a("templatelist.deleting")}),fetch("".concat("","/api/template/delete"),{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",RequestVerificationToken:A()},body:JSON.stringify(e)}).then(function(){t.componentDidMount()}).catch(function(e){this.setState({isLoading:!1}),console.log("Error: \n",e)})}},{key:"renderTemplates",value:function(){var e=this,t=this.props.t;return 0===this.state.templates.length?n.a.createElement("tr",null,n.a.createElement("td",{align:"center",colSpan:"6"},t("templatelist.noTemplateFound"))):this.state.templates.map(function(a,s){var i="dialog-".concat(s);return n.a.createElement("tr",{key:s},n.a.createElement("td",null,a.id),n.a.createElement("td",null,a.name),n.a.createElement("td",null,a.keyName),n.a.createElement("td",null,n.a.createElement(H.a,{to:"/admin/pages/template/".concat(a.id)},n.a.createElement("span",{className:"ion-compose"}))),n.a.createElement("td",null,n.a.createElement("a",{href:"",onClick:function(e){return e.preventDefault()},"data-toggle":"modal","data-target":"#".concat(i)},n.a.createElement("span",{className:"ion-trash-a"})),n.a.createElement(z,{id:i,title:t("templatelist.deleteTitle"),message:"".concat(t("templatelist.deleteMessage"),' "').concat(a.name,'" ?'),onConfirm:function(){return e.handleDelete(a.id)},confirmLabel:t("templatelist.delete"),cancelLabel:t("templatelist.cancel")})))})}},{key:"render",value:function(){var e=this.props.t;return n.a.createElement("div",{className:"text-white m-sm-5 p-5 bg-dark clearfix"},n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.loadingMessage}),n.a.createElement("h4",{className:"text-center"},e("templatelist.subtitle")),n.a.createElement("hr",null),n.a.createElement("h2",{className:"mb-5 text-center"},e("templatelist.title")),n.a.createElement(H.a,{to:"/admin/pages/template",className:"btn btn-outline-info mb-4"},e("templatelist.newTemplate")),n.a.createElement("table",{className:"table table-dark bg-dark"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},e("templatelist.name")),n.a.createElement("th",{scope:"col"},e("templatelist.keyname")),n.a.createElement("th",{scope:"col"},e("templatelist.edit")),n.a.createElement("th",{scope:"col"},e("templatelist.delete")))),n.a.createElement("tbody",null,this.renderTemplates())))}}]),t}(s.Component),pe=Object(r.b)()(he),ge=function(){return n.a.createElement("main",null,n.a.createElement(S.a,null,n.a.createElement(k.a,{exact:!0,path:"/admin/",component:M}),n.a.createElement(k.a,{exact:!0,path:"/admin/modules/edit",component:J}),n.a.createElement(k.a,{path:"/admin/modules/edit/:moduleId?",component:J}),n.a.createElement(k.a,{path:"/admin/modules/new/:pageId?",component:J}),n.a.createElement(k.a,{exact:!0,path:"/admin/modules/install",component:Y}),n.a.createElement(k.a,{path:"/admin/modules/:pageId?",component:Q}),n.a.createElement(k.a,{exact:!0,path:"/admin/pages",component:$}),n.a.createElement(k.a,{path:"/admin/pages/edit/:pageId?",component:ee}),n.a.createElement(k.a,{exact:!0,path:"/admin/users",component:ae}),n.a.createElement(k.a,{exact:!0,path:"/admin/pages/templates",component:pe}),n.a.createElement(k.a,{path:"/admin/pages/template/:templateId?",component:ue}),n.a.createElement(k.a,{path:"/admin/users/edit/:userId?",component:ne}),n.a.createElement(k.a,{exact:!0,path:"/admin/users/roles",component:le}),n.a.createElement(k.a,{exact:!0,path:"/admin/users/role/:roleId?",component:re}),n.a.createElement(k.a,{exact:!0,path:"/admin/users/permissions",component:de}),n.a.createElement(k.a,{path:"/admin/settings",component:K}),n.a.createElement(k.a,{path:"/admin/login",component:U})))},Ee=a(92),fe=function(e){function t(){return Object(E.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.t;return n.a.createElement("ul",{className:"list-unstyled components"},n.a.createElement(ve,{url:"/admin/",title:e("navigation.home"),className:"ion-home"}),n.a.createElement(be,{url:"/admin/pages",title:e("navigation.pages"),className:"ion-document"}),n.a.createElement(be,{url:"/admin/modules",title:e("navigation.modules"),className:"ion-cube"}),n.a.createElement(be,{url:"/admin/users",title:e("navigation.users"),className:"ion-person-stalker"}),n.a.createElement(be,{url:"/admin/settings",title:e("navigation.settings"),className:"ion-gear-a"}))}}]),t}(s.Component),be=function(e){return n.a.createElement("li",null,n.a.createElement(Ee.a,{to:e.url,activeClassName:"active"},n.a.createElement("i",{className:"icon ".concat(e.className)}),e.title))},ve=function(e){return n.a.createElement("li",null,n.a.createElement(Ee.a,{exact:!0,to:e.url,activeClassName:"active"},n.a.createElement("i",{className:"icon ".concat(e.className)}),e.title))},ye=Object(r.b)()(fe),Se=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={isLoading:!1,message:"",retry:0},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"fetchStartApplication",value:function(){var e=this,t=this.props.t;fetch("".concat("","/api/siteconfiguration/get"),{method:"GET",credentials:"include"}).then(function(a){a.ok?e.setState({isLoading:!1}):e.state.retry<15?(e.setState({retry:e.state.retry+1}),setTimeout(function(){return e.fetchStartApplication()},1e3)):(e.setState({isLoading:!1}),alert(t("settings.startFailed")))})}},{key:"handleRestart",value:function(e){var t=this,a=this.props.t;Object(x.isNil)(e)||e.preventDefault(),this.setState({isLoading:!0,message:a("settings.stoppingApplication")}),fetch("".concat("","/api/siteconfiguration/restart"),{method:"GET",credentials:"include"}).then(function(e){e.ok?(t.setState({isLoading:!0,message:a("settings.startingApplication"),retry:0}),t.fetchStartApplication()):t.state.retry<15?(t.setState({retry:t.state.retry+1}),setTimeout(function(){return t.handleRestart()},1e3)):(t.setState({isLoading:!1}),alert(a("settings.stopFailed")))})}},{key:"render",value:function(){var e=this;return n.a.createElement("nav",{id:"navigation-header",className:"navbar navbar-dark bg-dark"},n.a.createElement("button",{type:"button",id:"sidebarCollapse",className:"btn btn-outline-info navbar-btn"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("ul",{className:"list-unstyled components"},n.a.createElement("li",null,n.a.createElement("a",{href:"",onClick:function(t){return e.handleRestart(t)}},n.a.createElement("i",{className:"icon ion-refresh"})))),n.a.createElement(D,{isLoading:this.state.isLoading,message:this.state.message}))}}]),t}(s.Component),ke=Object(r.b)()(Se),Ne=function(e){function t(){return Object(E.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.t;return n.a.createElement("div",{className:"wrapper"},n.a.createElement("nav",{id:"sidebar",className:"bg-dark active"},n.a.createElement("div",{className:"sidebar-header"},n.a.createElement("h3",null,"Kastra"),n.a.createElement("img",{id:"logo",alt:"Kastra",src:"/images/logo.svg"})),n.a.createElement("div",{id:"navigation-side"},n.a.createElement(ye,null)),n.a.createElement("ul",{className:"list-unstyled CTAs"},n.a.createElement("li",null,n.a.createElement("a",{href:"/",className:"article"},n.a.createElement("i",{className:"icon ion-arrow-return-left"}),n.a.createElement("span",{className:"sidebar-hidden"},e("navigation.backToHome")))))),n.a.createElement("div",{id:"content"},n.a.createElement(ke,null),n.a.createElement("div",{id:"root"},n.a.createElement(ge,null))))}}]),t}(n.a.Component),Ce=Object(r.b)()(Ne);l.a.render(n.a.createElement(r.a,{i18n:g},n.a.createElement(o.a,null,n.a.createElement(Ce,null))),document.getElementById("application"))}},[[40,1,2]]]);
//# sourceMappingURL=main.87130f86.chunk.js.map